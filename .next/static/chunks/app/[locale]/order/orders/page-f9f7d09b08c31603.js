(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7774],{10:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>o});var a=r(9700);r(1464);var s=r(1687);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}},345:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var a=r(9700);r(1464);var s=r(5661),n=r(1687);let o=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(o({variant:r}),t),...s})}},1687:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(5797),s=r(6275);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},3041:(e,t,r)=>{"use strict";r.d(t,{L:()=>d,Jt:()=>f,gf:()=>l,LV:()=>m,bE:()=>p,WG:()=>c});let a={baseURL:"/api",timeout:3e4};async function s(e){if(!e.ok)throw Error("HTTP ".concat(e.status,": ").concat(e.statusText));let t=e.headers.get("content-type");if(!t||!t.includes("application/json"))throw Error("响应不是 JSON 格式");let r=await e.json();if(200!==r.code&&0!==r.code){let e=Error(r.message||"请求失败");throw e.code=r.code,e.data=r.data,e}return r}var n=r(3143);let o="auth_token",i={set(e,t,r){let a="".concat(e,"=").concat(encodeURIComponent(t),"; path=/; SameSite=Lax");if(r){let e=Math.floor(24*r*3600);a+="; max-age=".concat(e);let t=new Date;t.setTime(t.getTime()+24*r*36e5),a+="; expires=".concat(t.toUTCString())}document.cookie=a},get(e){let t="".concat(e,"="),r=document.cookie.split(";");for(let e=0;e<r.length;e++){let a=r[e];for(;" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return decodeURIComponent(a.substring(t.length,a.length))}return null},remove(e){document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; max-age=0")}};function l(){return i.get(o)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:720;i.set(o,e,t/1440)}function d(){i.remove(o)}async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:r="GET",headers:o={},searchParams:i,body:c,timeout:u=a.timeout,skipAuthRedirect:m=!1,showErrorToast:f=!0}=t,p=function(e,t){let r=a.baseURL;if(r.startsWith("/")&&((r=window.location.origin+r).endsWith("/")||(r+="/")),!r||r.startsWith("/")&&0){let a=r.endsWith("/")||e.startsWith("/")?"":"/",s=r+a+e;if(t){let e=new URLSearchParams;Object.entries(t).forEach(t=>{let[r,a]=t;e.append(r,String(a))});let r=e.toString();s+=r?"?".concat(r):""}return s}let s=new URL(e.startsWith("/")?e.slice(1):e,r);return t&&Object.entries(t).forEach(e=>{let[t,r]=e;s.searchParams.append(t,String(r))}),s.toString()}(e,i),h=l(),g={"Content-Type":"application/json",...o};h&&(g.Authorization="Bearer ".concat(h));let x={method:r,headers:g,credentials:"include"};c&&"GET"!==r&&(x.body=JSON.stringify(c));let b=new AbortController,v=setTimeout(()=>b.abort(),u);x.signal=b.signal;try{let e=await fetch(p,x);return await s(e)}catch(e){if(e instanceof Error){if(401===e.code&&(d(),m||(window.location.href="/login")),"AbortError"===e.name){let e=Error("请求超时，请稍后重试");throw f&&n.oR.error(e.message),e}f&&n.oR.error(e.message||"请求失败，请稍后重试")}throw e}finally{clearTimeout(v)}}async function m(e,t,r){return u(t,{method:e,searchParams:null==r?void 0:r.searchParams,body:null==r?void 0:r.body,...r})}async function f(e,t,r){return u(e,{method:"GET",searchParams:t,...r})}async function p(e,t,r){return u(e,{method:"POST",body:t,...r})}},3143:(e,t,r)=>{"use strict";r.d(t,{BO:()=>o,oR:()=>n});var a=r(8389);let s="app_toast",n={success:e=>{a.oR.success(e)},error:e=>{a.oR.error(e)},info:e=>{a.oR.info(e)},warning:e=>{a.oR.warning(e)},promise:a.oR.promise};function o(){var e;let t=null==(e=document.cookie.split("; ").find(e=>e.startsWith("".concat(s,"="))))?void 0:e.split("=")[1];if(t)try{let{type:e,message:r}=JSON.parse(decodeURIComponent(t));n[e](r),document.cookie="".concat(s,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/")}catch(e){console.error("Failed to parse toast cookie:",e)}}},3342:(e,t,r)=>{Promise.resolve().then(r.bind(r,7919))},4280:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=r(1464);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,a)),t&&(s.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7535:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9774).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7544:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(9700);r(1464);var s=r(5834),n=r(5661),o=r(1687);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r="default",size:n="default",asChild:l=!1,...c}=e,d=l?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button","data-variant":r,"data-size":n,className:(0,o.cn)(i({variant:r,size:n,className:t})),...c})}},7919:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(9700),s=r(1464),n=r(4944),o=r(3041),i=r(3143),l=r(10),c=r(345),d=r(7544),u=r(7535),m=r(9774);let f=(0,m.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),p=(0,m.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=[{id:"1",orderNo:"ORD202501050001",productName:"高级会员套餐（年费）",quantity:1,totalAmount:299,status:"completed",createTime:"2025-01-05 10:15:00",payTime:"2025-01-05 10:16:30"},{id:"2",orderNo:"ORD202501040002",productName:"数据分析服务包",quantity:2,totalAmount:598,status:"shipped",createTime:"2025-01-04 14:20:00",payTime:"2025-01-04 14:21:15"},{id:"3",orderNo:"ORD202501030003",productName:"API调用次数包（1000次）",quantity:5,totalAmount:500,status:"paid",createTime:"2025-01-03 16:45:00",payTime:"2025-01-03 16:46:00"},{id:"4",orderNo:"ORD202501020004",productName:"云存储空间（100GB）",quantity:1,totalAmount:199,status:"pending",createTime:"2025-01-02 11:30:00"},{id:"5",orderNo:"ORD202501010005",productName:"企业版授权",quantity:1,totalAmount:9999,status:"cancelled",createTime:"2025-01-01 09:00:00"}],g={pending:{label:"待支付",className:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"},paid:{label:"已支付",className:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300"},shipped:{label:"已发货",className:"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300"},completed:{label:"已完成",className:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"},cancelled:{label:"已取消",className:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}};function x(){let[e,t]=(0,s.useState)(null),r=async()=>{try{let e=await (0,o.Jt)("orders",{page:1,size:10});t(e.data),i.oR.success("订单数据加载成功")}catch(e){console.error("获取订单失败:",e)}};(0,s.useEffect)(()=>{r()},[]);let m=null!=e?e:h;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.ZB,{className:"text-xl",children:"订单列表"}),(0,a.jsx)(l.BT,{className:"mt-1",children:"查看和管理您的所有订单"})]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"筛选"]})]})})}),(0,a.jsx)("div",{className:"space-y-3",children:m.map(e=>{let t=g[e.status];return(0,a.jsx)(l.Zp,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pb-3 border-b border-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"订单号："}),(0,a.jsx)("span",{className:"text-sm font-mono font-medium",children:e.orderNo})]}),(0,a.jsx)(c.E,{variant:"secondary",className:t.className,children:t.label})]}),(0,a.jsxs)("div",{className:"py-4 flex items-start gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-16 h-16 bg-muted rounded-lg flex items-center justify-center",children:e.productImage?(0,a.jsx)(n.default,{src:e.productImage,alt:e.productName,width:96,height:96,className:"w-full h-full object-cover rounded-lg"}):(0,a.jsx)(f,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-base mb-1 truncate",children:e.productName}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["数量：",e.quantity]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["下单时间：",e.createTime]}),e.payTime&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["支付时间：",e.payTime]})]}),(0,a.jsxs)("div",{className:"flex-shrink-0 text-right",children:[(0,a.jsxs)("p",{className:"text-lg font-bold text-primary mb-2",children:["\xa5",e.totalAmount.toFixed(2)]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(p,{className:"h-4 w-4 mr-1"}),"查看详情"]})]})]}),(0,a.jsx)("div",{className:"md:hidden pt-3 border-t border-border",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)(d.$,{variant:"outline",size:"sm",className:"w-full",children:"查看详情"}),"pending"===e.status&&(0,a.jsx)(d.$,{size:"sm",className:"w-full",children:"去支付"}),"completed"===e.status&&(0,a.jsx)(d.$,{variant:"outline",size:"sm",className:"w-full",children:"再次购买"})]})})]})},e.id)})}),0===m.length&&(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"py-12 text-center",children:[(0,a.jsx)(f,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"暂无订单记录"})]})})]})}},9774:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(1464);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:r,strokeWidth:l?24*Number(i)/Number(s):i,className:n("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,o)=>{let{className:l,...c}=r;return(0,a.createElement)(i,{ref:o,iconNode:t,className:n("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...c})});return r.displayName=s(e),r}}},e=>{e.O(0,[4703,8389,6499,8789,1290,7358],()=>e(e.s=3342)),_N_E=e.O()}]);